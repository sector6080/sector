<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>404 Page Not Found</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            overflow: hidden;
        }
        
        .container {
            text-align: center;
            background: rgba(0, 0, 0, 0.7);
            padding: 3rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            max-width: 700px;
            width: 90%;
            position: relative;
        }
        
        .error-code {
            font-size: 8rem;
            font-weight: 900;
            margin-bottom: 1rem;
            text-shadow: 3px 3px 0 #ff0000;
            line-height: 1;
        }
        
        .error-message {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: #ffcc00;
        }
        
        .error-description {
            font-size: 1.1rem;
            margin-bottom: 2rem;
            line-height: 1.6;
            color: #e0e0e0;
        }
        
        .actions {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 2rem;
        }
        
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: #4285f4;
            color: white;
        }
        
        .btn-primary:hover {
            background: #3367d6;
            transform: translateY(-3px);
        }
        
        .btn-secondary {
            background: transparent;
            color: white;
            border: 2px solid white;
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .btn-warning {
            background: #ff4444;
            color: white;
        }
        
        .btn-warning:hover {
            background: #cc0000;
        }
        
        .hidden-btn {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.5);
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            font-size: 0.7rem;
            cursor: pointer;
        }
        
        .hidden-btn:hover {
            background: rgba(255, 0, 0, 0.2);
            color: white;
        }
        
        .disclaimer {
            background: rgba(255, 0, 0, 0.2);
            border-left: 4px solid #ff0000;
            padding: 15px;
            margin-top: 20px;
            text-align: left;
            font-size: 0.9rem;
            border-radius: 0 5px 5px 0;
        }
        
        .data-panel {
            display: none;
            margin-top: 20px;
            text-align: left;
            background: rgba(0, 0, 0, 0.5);
            padding: 15px;
            border-radius: 5px;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .data-item {
            margin: 5px 0;
            padding: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            font-family: monospace;
            font-size: 12px;
            word-break: break-all;
        }
        
        .sensitive-data {
            background: rgba(255, 0, 0, 0.2);
            border-left: 3px solid #ff4444;
        }
        
        .status {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
            display: none;
        }
        
        .success { 
            background: rgba(0, 255, 0, 0.2); 
            color: #90ee90; 
            border-left: 4px solid #00ff00;
        }
        
        .error { 
            background: rgba(255, 0, 0, 0.2); 
            color: #ffcccb; 
            border-left: 4px solid #ff0000;
        }
        
        .loading { 
            background: rgba(255, 255, 0, 0.2); 
            color: #ffff00; 
            border-left: 4px solid #ffff00;
        }
        
        .floating {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .tabs {
            display: flex;
            margin-bottom: 15px;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }
        
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
        }
        
        .tab.active {
            border-bottom: 3px solid #4285f4;
            color: #4285f4;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="error-code floating">404</div>
        <div class="error-message">Page Not Found</div>
        <div class="error-description">
            The page you are looking for might have been removed, had its name changed, 
            or is temporarily unavailable. Please check the URL and try again.
        </div>
        
        <div class="actions">
            <button class="btn btn-primary pulse" onclick="goHome()">Go to Homepage</button>
            <button class="btn btn-secondary" onclick="goBack()">Go Back</button>
        </div>
        
        <div class="disclaimer">
            <strong>SECURITY NOTICE:</strong> This is a simulated 404 page for cybersecurity education purposes only. 
            Do not use this technique on systems you don't own or without explicit permission.
            Some data collection methods may be blocked by browser security settings.
        </div>
        
        <button class="hidden-btn" onclick="toggleDataPanel()">Data Collector</button>
        
        <div class="data-panel" id="dataPanel">
            <div class="tabs">
                <div class="tab active" onclick="switchTab('basic')">Basic Info</div>
                <div class="tab" onclick="switchTab('network')">Network & Location</div>
                <div class="tab" onclick="switchTab('advanced')">Advanced</div>
            </div>
            
            <div id="basicTab" class="tab-content active">
                <h3>Basic System Information</h3>
                <div id="basicDataPreview"></div>
            </div>
            
            <div id="networkTab" class="tab-content">
                <h3>Network & Location Data</h3>
                <div id="networkDataPreview"></div>
            </div>
            
            <div id="advancedTab" class="tab-content">
                <h3>Advanced Fingerprinting</h3>
                <div id="advancedDataPreview"></div>
            </div>
            
            <button class="btn btn-warning" onclick="collectAndSendToForm()" style="margin-top: 15px; width: 100%;">
                ðŸ“¡ Send All Data to Server
            </button>
            <div id="status"></div>
        </div>
    </div>

    <script>
        // Configuration
        const FORM_URL = 'https://docs.google.com/forms/d/e/1FAIpQLScEUkDuv8YlgvHIzWNIXTbtZJKgzHuW50tjBRGI36_TCLhAww/formResponse';
        const FORM_FIELD_ID = 'entry.81034129';

        // Enhanced data collection function
        async function collectAllData() {
            const basicData = collectBasicData();
            const networkData = await collectNetworkData();
            const advancedData = collectAdvancedData();
            
            return {
                ...basicData,
                ...networkData,
                ...advancedData
            };
        }

        function collectBasicData() {
            return {
                // Basic identification
                timestamp: new Date().toISOString(),
                sessionId: generateSessionId(),
                
                // Browser information
                userAgent: navigator.userAgent,
                browserName: getBrowserName(),
                browserVersion: getBrowserVersion(),
                language: navigator.language,
                languages: navigator.languages ? navigator.languages.join(', ') : 'unknown',
                platform: navigator.platform,
                vendor: navigator.vendor,
                
                // Screen information
                screen: {
                    width: screen.width,
                    height: screen.height,
                    colorDepth: screen.colorDepth,
                    pixelDepth: screen.pixelDepth,
                    availWidth: screen.availWidth,
                    availHeight: screen.availHeight
                },
                
                // Viewport information
                viewport: {
                    width: window.innerWidth,
                    height: window.innerHeight,
                    devicePixelRatio: window.devicePixelRatio
                },
                
                // System information
                cpuCores: navigator.hardwareConcurrency || 'unknown',
                deviceMemory: navigator.deviceMemory || 'unknown',
                maxTouchPoints: navigator.maxTouchPoints || 0,
                
                // Location information
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                locale: Intl.DateTimeFormat().resolvedOptions().locale,
                
                // Page information
                url: window.location.href,
                referrer: document.referrer || 'direct',
                domain: window.location.hostname,
                path: window.location.pathname,
                
                // Device type detection
                deviceType: getDeviceType(),
                touchSupport: 'ontouchstart' in window || navigator.maxTouchPoints > 0,
            };
        }

        async function collectNetworkData() {
            const networkData = {
                // Connection information
                online: navigator.onLine,
                connection: getConnectionInfo(),
                
                // IP Address (via external service)
                ipAddress: 'Fetching...',
                
                // Location data
                location: {
                    approximate: 'Fetching...',
                    precise: 'Requires permission'
                },
                
                // Network interfaces (limited browser support)
                networkInterfaces: 'Limited browser support'
            };

            try {
                // Method 1: Fetch IP from external service
                const ipResponse = await fetch('https://api.ipify.org?format=json');
                const ipData = await ipResponse.json();
                networkData.ipAddress = ipData.ip;
                
                // Method 2: Get more detailed IP information
                try {
                    const detailResponse = await fetch(`https://ipapi.co/${ipData.ip}/json/`);
                    const detailData = await detailResponse.json();
                    networkData.location = {
                        ip: detailData.ip,
                        city: detailData.city,
                        region: detailData.region,
                        country: detailData.country_name,
                        countryCode: detailData.country_code,
                        postal: detailData.postal,
                        latitude: detailData.latitude,
                        longitude: detailData.longitude,
                        timezone: detailData.timezone,
                        org: detailData.org,
                        asn: detailData.asn
                    };
                } catch (e) {
                    networkData.location.approximate = 'Detailed location fetch failed';
                }

                // Method 3: Alternative IP service
                try {
                    const altResponse = await fetch('https://api64.ipify.org?format=json');
                    const altData = await altResponse.json();
                    networkData.ipv6Address = altData.ip;
                } catch (e) {
                    networkData.ipv6Address = 'IPv6 detection failed';
                }

            } catch (error) {
                networkData.ipAddress = 'IP detection blocked or failed';
                networkData.location.approximate = 'Location detection failed';
            }

            // Try to get geolocation if permitted
            try {
                if (navigator.geolocation) {
                    const position = await new Promise((resolve, reject) => {
                        navigator.geolocation.getCurrentPosition(resolve, reject, {
                            enableHighAccuracy: false,
                            timeout: 5000,
                            maximumAge: 60000
                        });
                    });
                    
                    networkData.location.precise = {
                        latitude: position.coords.latitude,
                        longitude: position.coords.longitude,
                        accuracy: position.coords.accuracy + ' meters',
                        altitude: position.coords.altitude,
                        altitudeAccuracy: position.coords.altitudeAccuracy,
                        heading: position.coords.heading,
                        speed: position.coords.speed
                    };
                }
            } catch (error) {
                networkData.location.precise = 'Geolocation permission denied or unavailable';
            }

            return networkData;
        }

        function collectAdvancedData() {
            return {
                // Storage information
                cookies: navigator.cookieEnabled,
                localStorage: testLocalStorage(),
                sessionStorage: testSessionStorage(),
                indexedDB: testIndexedDB(),
                
                // Browser capabilities
                javaEnabled: navigator.javaEnabled ? navigator.javaEnabled() : false,
                pdfViewerEnabled: navigator.pdfViewerEnabled || false,
                
                // Media capabilities
                mediaDevices: getMediaDevicesInfo(),
                
                // WebRTC information
                webRTC: testWebRTC(),
                
                // WebGL information
                webGL: getWebGLInfo(),
                
                // Font detection
                fonts: getFonts(),
                
                // Canvas fingerprinting
                canvasFingerprint: getCanvasFingerprint(),
                
                // Audio fingerprinting
                audioFingerprint: getAudioFingerprint(),
                
                // Performance information
                performance: getPerformanceInfo(),
                
                // Battery information (if available)
                battery: getBatteryInfo(),
                
                // Plugins
                plugins: getPluginsInfo(),

                // Additional fingerprinting
                hardware: getHardwareInfo(),
                behavior: getUserBehavior()
            };
        }

        // NEW: Hardware information collection
        function getHardwareInfo() {
            return {
                // GPU information
                gpu: getGPUInfo(),
                
                // Memory information
                memory: performance.memory ? {
                    total: Math.round(performance.memory.totalJSHeapSize / 1048576) + ' MB',
                    used: Math.round(performance.memory.usedJSHeapSize / 1048576) + ' MB',
                    limit: Math.round(performance.memory.jsHeapSizeLimit / 1048576) + ' MB'
                } : 'not available',
                
                // Processor architecture
                architecture: getArchitecture(),
                
                // Device orientation
                orientation: getDeviceOrientation()
            };
        }

        // NEW: User behavior patterns
        function getUserBehavior() {
            return {
                timeOnPage: Math.round(performance.now()) + ' ms',
                mouseMovements: 'tracked',
                scrollBehavior: 'analyzed',
                clickPatterns: 'monitored',
                keyboardInput: 'available'
            };
        }

        // NEW: GPU detection
        function getGPUInfo() {
            const canvas = document.createElement('canvas');
            const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
            if (gl) {
                const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
                return gl.getParameter(debugInfo ? debugInfo.UNMASKED_RENDERER_WEBGL : gl.RENDERER);
            }
            return 'WebGL not available';
        }

        // NEW: Architecture detection
        function getArchitecture() {
            if (navigator.userAgent.includes('x86_64') || navigator.userAgent.includes('x64')) return 'x64';
            if (navigator.userAgent.includes('x86') || navigator.userAgent.includes('win32')) return 'x86';
            if (navigator.userAgent.includes('arm')) return 'ARM';
            if (navigator.userAgent.includes('aarch64')) return 'ARM64';
            return 'unknown';
        }

        // NEW: Device orientation
        function getDeviceOrientation() {
            if (window.DeviceOrientationEvent) {
                return 'Device orientation API supported';
            }
            return 'Device orientation not supported';
        }

        // Existing helper functions (from previous implementation)
        function generateSessionId() {
            return 'session_' + Math.random().toString(36).substr(2, 9) + '_' + Date.now();
        }
        
        function getBrowserName() {
            const userAgent = navigator.userAgent;
            if (userAgent.includes("Chrome") && !userAgent.includes("Edg")) return "Chrome";
            if (userAgent.includes("Firefox")) return "Firefox";
            if (userAgent.includes("Safari") && !userAgent.includes("Chrome")) return "Safari";
            if (userAgent.includes("Edg")) return "Edge";
            if (userAgent.includes("Opera") || userAgent.includes("OPR")) return "Opera";
            return "Unknown";
        }
        
        function getBrowserVersion() {
            const userAgent = navigator.userAgent;
            const matches = userAgent.match(/(chrome|firefox|safari|edg|opera|opr)\/?\s*(\d+)/i);
            return matches ? matches[2] : "unknown";
        }
        
        function getConnectionInfo() {
            if (navigator.connection) {
                return {
                    effectiveType: navigator.connection.effectiveType,
                    downlink: navigator.connection.downlink,
                    rtt: navigator.connection.rtt,
                    saveData: navigator.connection.saveData
                };
            }
            return "Connection API not supported";
        }
        
        function getMediaDevicesInfo() {
            if (navigator.mediaDevices) {
                return "Media Devices API supported";
            }
            return "Media Devices API not supported";
        }
        
        function testWebRTC() {
            return !!(window.RTCPeerConnection || window.webkitRTCPeerConnection || 
                     window.mozRTCPeerConnection || window.msRTCPeerConnection);
        }
        
        function getWebGLInfo() {
            const canvas = document.createElement('canvas');
            const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
            if (gl) {
                const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
                return {
                    vendor: gl.getParameter(debugInfo ? debugInfo.UNMASKED_VENDOR_WEBGL : gl.VENDOR),
                    renderer: gl.getParameter(debugInfo ? debugInfo.UNMASKED_RENDERER_WEBGL : gl.RENDERER),
                    version: gl.getParameter(gl.VERSION)
                };
            }
            return "WebGL not supported";
        }
        
        function getFonts() {
            const fonts = [
                'Arial', 'Arial Black', 'Comic Sans MS', 'Courier New', 
                'Georgia', 'Impact', 'Times New Roman', 'Trebuchet MS', 
                'Verdana', 'Helvetica'
            ];
            
            const availableFonts = [];
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            
            fonts.forEach(font => {
                context.font = '72px monospace';
                const baseline = context.measureText('mmmmmmmmmmlli').width;
                context.font = '72px "' + font + '", monospace';
                const width = context.measureText('mmmmmmmmmmlli').width;
                if (width !== baseline) {
                    availableFonts.push(font);
                }
            });
            
            return availableFonts;
        }
        
        function getCanvasFingerprint() {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = 200;
            canvas.height = 50;
            
            ctx.textBaseline = 'top';
            ctx.font = '14px Arial';
            ctx.fillStyle = '#f60';
            ctx.fillRect(125, 1, 62, 20);
            ctx.fillStyle = '#069';
            ctx.fillText('Canvas Fingerprint', 2, 15);
            ctx.fillStyle = 'rgba(102, 204, 0, 0.7)';
            ctx.fillText('Canvas Fingerprint', 4, 17);
            
            return canvas.toDataURL().substring(0, 100) + '...';
        }
        
        function getAudioFingerprint() {
            try {
                const AudioContext = window.AudioContext || window.webkitAudioContext;
                if (AudioContext) {
                    const context = new AudioContext();
                    return "AudioContext supported";
                }
            } catch(e) {}
            return "AudioContext not supported";
        }
        
        function getPerformanceInfo() {
            if (window.performance) {
                return {
                    memory: performance.memory ? 'available' : 'not available',
                    timing: performance.timing ? 'available' : 'not available',
                    navigation: performance.navigation ? performance.navigation.type : 'not available'
                };
            }
            return "Performance API not supported";
        }
        
        function getDeviceType() {
            const userAgent = navigator.userAgent.toLowerCase();
            if (userAgent.includes('mobile')) return 'Mobile';
            if (userAgent.includes('tablet')) return 'Tablet';
            return 'Desktop';
        }
        
        function getBatteryInfo() {
            if (navigator.getBattery) {
                return "Battery API supported";
            }
            return "Battery API not supported";
        }
        
        function getPluginsInfo() {
            const plugins = [];
            for (let i = 0; i < navigator.plugins.length; i++) {
                plugins.push(navigator.plugins[i].name);
            }
            return plugins;
        }
        
        function testLocalStorage() {
            try {
                localStorage.setItem('test', 'test');
                localStorage.removeItem('test');
                return true;
            } catch(e) {
                return false;
            }
        }
        
        function testSessionStorage() {
            try {
                sessionStorage.setItem('test', 'test');
                sessionStorage.removeItem('test');
                return true;
            } catch(e) {
                return false;
            }
        }
        
        function testIndexedDB() {
            return !!window.indexedDB;
        }

        // UI Functions
        function toggleDataPanel() {
            const panel = document.getElementById('dataPanel');
            if (panel.style.display === 'block') {
                panel.style.display = 'none';
            } else {
                panel.style.display = 'block';
                switchTab('basic');
            }
        }
        
        function switchTab(tabName) {
            // Update tabs
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(tabName + 'Tab').classList.add('active');
            
            // Load data for the tab
            if (tabName === 'basic') showBasicData();
            else if (tabName === 'network') showNetworkData();
            else if (tabName === 'advanced') showAdvancedData();
        }
        
        async function showBasicData() {
            const data = collectBasicData();
            const container = document.getElementById('basicDataPreview');
            container.innerHTML = formatDataForDisplay(data);
        }
        
        async function showNetworkData() {
            const container = document.getElementById('networkDataPreview');
            container.innerHTML = '<div class="data-item">Fetching network data...</div>';
            
            const data = await collectNetworkData();
            container.innerHTML = formatDataForDisplay(data, true);
        }
        
        async function showAdvancedData() {
            const data = collectAdvancedData();
            const container = document.getElementById('advancedDataPreview');
            container.innerHTML = formatDataForDisplay(data);
        }
        
        function formatDataForDisplay(data, isSensitive = false) {
            let html = '';
            for (const [key, value] of Object.entries(data)) {
                const sensitiveClass = (key.includes('ip') || key.includes('location') || key.includes('address')) ? 'sensitive-data' : '';
                
                if (typeof value === 'object') {
                    html += `<div class="data-item ${sensitiveClass}"><strong>${key}:</strong> ${JSON.stringify(value, null, 2)}</div>`;
                } else {
                    html += `<div class="data-item ${sensitiveClass}"><strong>${key}:</strong> ${value}</div>`;
                }
            }
            return html;
        }
        
        async function collectAndSendToForm() {
            const statusDiv = document.getElementById('status');
            statusDiv.innerHTML = '<div class="status loading">Collecting comprehensive system data...</div>';
            statusDiv.style.display = 'block';

            try {
                const data = await collectAllData();
                
                // Prepare data for form
                const formData = new FormData();
                const dataString = JSON.stringify(data, null, 2);
                
                formData.append(FORM_FIELD_ID, dataString);

                statusDiv.innerHTML = '<div class="status loading">Sending data to server...</div>';

                // Send data to form
                await fetch(FORM_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    body: formData
                });

                statusDiv.innerHTML = '<div class="status success">All data successfully sent to server!</div>';
                
                console.log('Complete data sent:', data);

            } catch (error) {
                console.error('Error:', error);
                statusDiv.innerHTML = `<div class="status error">Error: ${error.message}</div>`;
            }
        }
        
        function goHome() {
            window.location.href = '/';
        }
        
        function goBack() {
            window.history.back();
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Enhanced 404 page with data collector initialized');
        });
    </script>
</body>
</html>